<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>canvas</title>
</head>

<body>
    <!-- <canvas id="myCanvas" width="1000" height="500">
        Your browser does not support the HTML5 canvas tag.
    </canvas>
    <script>
        //准备img对象 
        var img = new Image();
        img.src = '../img/ta_zanwu.png'

        // 加载完成开始绘制
        img.onload = function () {
            //准备canvas环境 
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");
            // 绘制图片
            ctx.drawImage(img, 0, 0);
            // 绘制水印
            ctx.font = "20px microsoft yahei";
            ctx.fillStyle = "rgba(255,255,255,0.5)";
            ctx.fillText("my images", 100, 100);
        }
    </script> -->


    <canvas id="canvas"></canvas>
<!-- <canvas id="water"></canvas>
<img src="" id="imgShow" alt=""/> -->

<script>
    var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');
  function drawImg() {
    var img = new Image();
      img.src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1521260437608&di=e94551a06b820d76061528ed8463e8f6&imgtype=0&src=http%3A%2F%2Fp6.qhimg.com%2Ft016b2acd8540563ac2.jpg";
      img.onload  = function () {
        // 绘制图片默认铺满屏幕
        for (var i = 0; i < 2; i++) {
          for (var j = 0; j < 4; j++) {
            // 动态计算每一张图片需要绘制的起始点的坐标
            ctx.drawImage(img,(i * 300),(j * 200),300,200);
          }
        }
        // 绘制文字内容
        for (var p = 0; p < 2; p++) {
          for (var q = 0; q < 4; q++) {
            // 绘制文字  注意：：绘制斜体文字 旋转以后会发生位移，所以必须在旋转之后进行位置的调整；
              drawText((q * -120),-(50 * p),((p * 300)),((q * 200)+200))
          }
        }
      }
  }
  function drawText(tsx,tsy,x,y) {
    var text = "上海东方明珠";
    ctx.save();//保存原来的状态  绘制字体都是需要旋转倾斜  那么之前绘制的图片就要进行状态的保存
    ctx.rotate(-Math.PI/6);//绘制倾斜字体
    ctx.translate(tsx,tsy);//发生位移进行位移的恢复
    ctx.font = "48px serif";
    ctx.fillStyle = 'red';
    ctx.fillText(text, x,y);
    ctx.restore();//状态的恢复
  }
  drawImg();
</script>
</body>

</html>